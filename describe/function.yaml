kind: job
metadata:
  name: describe
  tag: ''
  hash: 38cf3658c13183746a9518365917f49206e088fc
  project: ''
  labels:
    author: yjb
    stage: development
  categories:
  - models
  - graphics
spec:
  command: ''
  args: []
  image: mlrun/ml-models:0.4.6
  env: []
  default_handler: describe
  description: ''
  build:
    functionSourceCode: IyBHZW5lcmF0ZWQgYnkgbnVjbGlvLmV4cG9ydC5OdWNsaW9FeHBvcnRlciBvbiAyMDIwLTAzLTE5IDE0OjI5CgppbXBvcnQgb3MKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBwYW5kYXMgYXMgcGQKaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdAppbXBvcnQgc2VhYm9ybiBhcyBzbnMKCmZyb20gbWxydW4uZXhlY3V0aW9uIGltcG9ydCBNTENsaWVudEN0eApmcm9tIG1scnVuLmRhdGFzdG9yZSBpbXBvcnQgRGF0YUl0ZW0KZnJvbSBtbHJ1bi5hcnRpZmFjdHMgaW1wb3J0IFBsb3RBcnRpZmFjdCwgVGFibGVBcnRpZmFjdAoKZnJvbSBza2xlYXJuLnByZXByb2Nlc3NpbmcgaW1wb3J0IFN0YW5kYXJkU2NhbGVyCmZyb20geWVsbG93YnJpY2sgaW1wb3J0IENsYXNzQmFsYW5jZQoKZnJvbSB0eXBpbmcgaW1wb3J0IElPLCBBbnlTdHIsIFVuaW9uLCBMaXN0LCBPcHRpb25hbAoKcGQuc2V0X29wdGlvbigiZGlzcGxheS5mbG9hdF9mb3JtYXQiLCBsYW1iZGEgeDogIiUuMmYiICUgeCkKCmRlZiBfZ2NmX2NsZWFyKHBsdCk6CiAgICBwbHQuY2xhKCkKICAgIHBsdC5jbGYoKQogICAgcGx0LmNsb3NlKCkgCgpkZWYgZGVzY3JpYmUoCiAgICBjb250ZXh0OiBNTENsaWVudEN0eCwKICAgIHRhYmxlOiBVbmlvbltEYXRhSXRlbSwgc3RyXSwKICAgIGxhYmVsX2NvbHVtbjogc3RyLAogICAgY2xhc3NfbGFiZWxzOiBMaXN0W3N0cl0gPSBOb25lLAogICAga2V5OiBzdHIgPSAidGFibGUtc3VtbWFyeSIsCiAgICBwbG90X2hpc3Q6IGJvb2wgPSBUcnVlLAogICAgcGxvdHNfZGVzdDogc3RyID0gJ3Bsb3RzJwopIC0+IE5vbmU6CiAgICAiIiJTdW1tYXJpemUgYSB0YWJsZQoKICAgIFRPRE86IG1lcmdlIHdpdGggZGFzayB2ZXJzaW9uCgogICAgOnBhcmFtIGNvbnRleHQ6ICAgICAgICAgdGhlIGZ1bmN0aW9uIGNvbnRleHQKICAgIDpwYXJhbSB0YWJsZTogICAgICAgICAgIHBhbmRhcyBkYXRhZnJhbWUKICAgIDpwYXJhbSBsYWJlbF9jb2x1bW46ICAgIGdyb3VuZCB0cnV0aCBjb2x1bW4gbGFiZWwKICAgIDpwYXJhbSBrZXk6ICAgICAgICAgICAgIGtleSBvZiB0YWJsZSBzdW1tYXJ5IGluIGFydGlmYWN0IHN0b3JlCiAgICA6cGFyYW0gcGxvdF9oaXN0OiAgICAgICAoVHJ1ZSkgc2V0IHRoaXMgdG8gRmFsc2UgZm9yIGxhcmdlIHRhYmxlcwogICAgOnBhcmFtIHBsb3RzX2Rlc3Q6ICAgICAgZGVzdGluYXRpb24gZm9sZGVyIG9mIHN1bW1hcnkgcGxvdHMgKHJlbGF0aXZlIHRvIGFydGlmYWN0X3BhdGgpCiAgICAiIiIKICAgIGJhc2VfcGF0aCA9IGNvbnRleHQuYXJ0aWZhY3RfcGF0aAogICAgCiAgICB0YWJsZSA9IHBkLnJlYWRfcGFycXVldChzdHIodGFibGUpKQogICAgaGVhZGVyID0gdGFibGUuY29sdW1ucy52YWx1ZXMKCiAgICBfZ2NmX2NsZWFyKHBsdCkKICAgIHNuc3BsdCA9IHNucy5wYWlycGxvdCh0YWJsZSwgaHVlPWxhYmVsX2NvbHVtbikKICAgIHNuc3BsdC5zYXZlZmlnKG9zLnBhdGguam9pbihiYXNlX3BhdGgsIGYie3Bsb3RzX2Rlc3R9L2hpc3QucG5nIikpCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChQbG90QXJ0aWZhY3QoImhpc3RvZ3JhbXMiLCAgYm9keT1wbHQuZ2NmKCkpLCBsb2NhbF9wYXRoPWYie3Bsb3RzX2Rlc3R9L2hpc3QuaHRtbCIpCiAgICAKICAgIHN1bXRibCA9IHRhYmxlLmRlc2NyaWJlKCkKICAgIHN1bXRibCA9IHN1bXRibC5hcHBlbmQobGVuKHRhYmxlLmluZGV4KS10YWJsZS5jb3VudCgpLCBpZ25vcmVfaW5kZXg9VHJ1ZSkKICAgIHN1bXRibC5pbnNlcnQoMCwgIm1ldHJpYyIsIFsiY291bnQiLCAibWVhbiIsICJzdGQiLCAibWluIiwiMjUlIiwgIjUwJSIsICI3NSUiLCAibWF4IiwgIm5hbnMiXSkKICAgIAogICAgc3VtdGJsLnRvX2Nzdihvcy5wYXRoLmpvaW4oYmFzZV9wYXRoLCBrZXkrIi5jc3YiKSwgaW5kZXg9RmFsc2UpCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChrZXksIGxvY2FsX3BhdGg9a2V5KyIuY3N2IikKCiAgICBfZ2NmX2NsZWFyKHBsdCkKICAgIAogICAgbGFiZWxzID0gdGFibGUucG9wKGxhYmVsX2NvbHVtbikKICAgIGNsYXNzX2JhbGFuY2VfbW9kZWwgPSBDbGFzc0JhbGFuY2UobGFiZWxzPWNsYXNzX2xhYmVscykKICAgIGNsYXNzX2JhbGFuY2VfbW9kZWwuZml0KGxhYmVscykKICAgIAogICAgc2NhbGVfcG9zX3dlaWdodCA9IGNsYXNzX2JhbGFuY2VfbW9kZWwuc3VwcG9ydF9bMF0vY2xhc3NfYmFsYW5jZV9tb2RlbC5zdXBwb3J0X1sxXQogICAgY29udGV4dC5sb2dfYXJ0aWZhY3QoInNjYWxlX3Bvc193ZWlnaHQiLCBmIntzY2FsZV9wb3Nfd2VpZ2h0OjAuMmZ9IikKCiAgICBjbGFzc19iYWxhbmNlX21vZGVsLnNob3cob3V0cGF0aD1vcy5wYXRoLmpvaW4oYmFzZV9wYXRoLCBmIntwbG90c19kZXN0fS9pbWJhbGFuY2UucG5nIikpCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChQbG90QXJ0aWZhY3QoImltYmFsYW5jZSIsIGJvZHk9cGx0LmdjZigpKSwgbG9jYWxfcGF0aD1mIntwbG90c19kZXN0fS9pbWJhbGFuY2UuaHRtbCIpCiAgICAKICAgIF9nY2ZfY2xlYXIocGx0KQogICAgdGJsY29yciA9IHRhYmxlLmNvcnIoKQogICAgYXggPSBwbHQuYXhlcygpCiAgICBzbnMuaGVhdG1hcCh0Ymxjb3JyLCBheD1heCwgYW5ub3Q9RmFsc2UsIGNtYXA9cGx0LmNtLlJlZHMpCiAgICBheC5zZXRfdGl0bGUoImZlYXR1cmVzIGNvcnJlbGF0aW9uIikKICAgIHBsdC5zYXZlZmlnKG9zLnBhdGguam9pbihiYXNlX3BhdGgsIGYie3Bsb3RzX2Rlc3R9L2NvcnIucG5nIikpCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChQbG90QXJ0aWZhY3QoImNvcnJlbGF0aW9uIiwgIGJvZHk9cGx0LmdjZigpKSwgbG9jYWxfcGF0aD1mIntwbG90c19kZXN0fWNvcnIuaHRtbCIpCiAgICAKICAgCiAgICBfZ2NmX2NsZWFyKHBsdCkKCg==
    commands: []
    code_origin: https://github.com/mlrun/functions.git#a1ef1411089314b8a264a70077a64ea77ccc0558:describe/describe.ipynb
