kind: job
metadata:
  name: describe
  tag: ''
  hash: 2f864453ef3012690b71ef3c0be5b76f69ea6d52
  project: ''
  categories: []
spec:
  command: ''
  args: []
  image: mlrun/ml-models:0.4.5
  env: []
  default_handler: describe
  description: ''
  build:
    functionSourceCode: IyBDb3B5cmlnaHQgMjAxOCBJZ3VhemlvCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAojCiMgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQojIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiMgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiMgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAojIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgppbXBvcnQgb3MKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBwYW5kYXMgYXMgcGQKaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdAppbXBvcnQgc2VhYm9ybiBhcyBzbnMKCmZyb20gbWxydW4uZXhlY3V0aW9uIGltcG9ydCBNTENsaWVudEN0eApmcm9tIG1scnVuLmRhdGFzdG9yZSBpbXBvcnQgRGF0YUl0ZW0KZnJvbSBtbHJ1bi5hcnRpZmFjdHMgaW1wb3J0IFBsb3RBcnRpZmFjdCwgVGFibGVBcnRpZmFjdAoKZnJvbSB5ZWxsb3dicmljay50YXJnZXQgaW1wb3J0IENsYXNzQmFsYW5jZQpmcm9tIHNrbGVhcm4ucHJlcHJvY2Vzc2luZyBpbXBvcnQgU3RhbmRhcmRTY2FsZXIKCmZyb20gdHlwaW5nIGltcG9ydCBJTywgQW55U3RyLCBVbmlvbiwgTGlzdCwgT3B0aW9uYWwKCnBkLnNldF9vcHRpb24oImRpc3BsYXkuZmxvYXRfZm9ybWF0IiwgbGFtYmRhIHg6ICIlLjJmIiAlIHgpCgpkZWYgX2djZl9jbGVhcihwbHQpOgogICAgcGx0LmNsYSgpCiAgICBwbHQuY2xmKCkKICAgIHBsdC5jbG9zZSgpIAoKZGVmIGRlc2NyaWJlKAogICAgY29udGV4dDogTUxDbGllbnRDdHgsCiAgICB0YWJsZTogVW5pb25bRGF0YUl0ZW0sIHN0cl0sCiAgICBsYWJlbF9jb2x1bW46IHN0ciwKICAgIGNsYXNzX2xhYmVsczogTGlzdFtzdHJdLAogICAga2V5OiBzdHIgPSAidGFibGUtc3VtbWFyeSIsCikgLT4gTm9uZToKICAgICIiIlN1bW1hcml6ZSBhIHRhYmxlCgogICAgVE9ETzogbWVyZ2Ugd2l0aCBkYXNrIHZlcnNpb24KCiAgICA6cGFyYW0gY29udGV4dDogICAgICAgICB0aGUgZnVuY3Rpb24gY29udGV4dAogICAgOnBhcmFtIHRhYmxlOiAgICAgICAgICAgcGFuZGFzIGRhdGFmcmFtZQogICAgOnBhcmFtIGtleTogICAgICAgICAgICAga2V5IG9mIHRhYmxlIHN1bW1hcnkgaW4gYXJ0aWZhY3Qgc3RvcmUKICAgICIiIgogICAgX2djZl9jbGVhcihwbHQpCiAgICAKICAgIGJhc2VfcGF0aCA9IGNvbnRleHQuYXJ0aWZhY3RfcGF0aAogICAgb3MubWFrZWRpcnMoYmFzZV9wYXRoLCBleGlzdF9vaz1UcnVlKQogICAgb3MubWFrZWRpcnMoYmFzZV9wYXRoKyIvcGxvdHMiLCBleGlzdF9vaz1UcnVlKQogICAgCiAgICBwcmludChmJ1RBQkxFIHt0YWJsZX0nKQogICAgdGFibGUgPSBwZC5yZWFkX3BhcnF1ZXQoc3RyKHRhYmxlKSkKICAgIGhlYWRlciA9IHRhYmxlLmNvbHVtbnMudmFsdWVzCiAgICAKICAgICMgZGVzY3JpYmUgdGFibGUKICAgIHN1bXRibCA9IHRhYmxlLmRlc2NyaWJlKCkKICAgIHN1bXRibCA9IHN1bXRibC5hcHBlbmQobGVuKHRhYmxlLmluZGV4KS10YWJsZS5jb3VudCgpLCBpZ25vcmVfaW5kZXg9VHJ1ZSkKICAgIHN1bXRibC5pbnNlcnQoMCwgIm1ldHJpYyIsIFsiY291bnQiLCAibWVhbiIsICJzdGQiLCAibWluIiwiMjUlIiwgIjUwJSIsICI3NSUiLCAibWF4IiwgIm5hbnMiXSkKICAgIAogICAgc3VtdGJsLnRvX2Nzdihvcy5wYXRoLmpvaW4oYmFzZV9wYXRoLCBrZXkrIi5jc3YiKSwgaW5kZXg9RmFsc2UpCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChrZXksIGxvY2FsX3BhdGg9a2V5KyIuY3N2IikKCiAgICAjIHBsb3QgY2xhc3MgYmFsYW5jZSwgcmVjb3JkIHJlbGF0aXZlIGNsYXNzIHdlaWdodAogICAgX2djZl9jbGVhcihwbHQpCiAgICAKICAgIGxhYmVscyA9IHRhYmxlLnBvcChsYWJlbF9jb2x1bW4pCiAgICBjbGFzc19iYWxhbmNlX21vZGVsID0gQ2xhc3NCYWxhbmNlKGxhYmVscz1jbGFzc19sYWJlbHMpCiAgICBjbGFzc19iYWxhbmNlX21vZGVsLmZpdChsYWJlbHMpCiAgICAKICAgIHNjYWxlX3Bvc193ZWlnaHQgPSBjbGFzc19iYWxhbmNlX21vZGVsLnN1cHBvcnRfWzBdL2NsYXNzX2JhbGFuY2VfbW9kZWwuc3VwcG9ydF9bMV0KICAgIGNvbnRleHQubG9nX2FydGlmYWN0KCJzY2FsZV9wb3Nfd2VpZ2h0IiwgZiJ7c2NhbGVfcG9zX3dlaWdodDowLjJmfSIpCgogICAgY2xhc3NfYmFsYW5jZV9tb2RlbC5zaG93KG91dHBhdGg9b3MucGF0aC5qb2luKGJhc2VfcGF0aCwgInBsb3RzL2ltYmFsYW5jZS5wbmciKSkKICAgIGNvbnRleHQubG9nX2FydGlmYWN0KFBsb3RBcnRpZmFjdCgiaW1iYWxhbmNlIiwgYm9keT1wbHQuZ2NmKCkpLCBsb2NhbF9wYXRoPSJwbG90cy9pbWJhbGFuY2UuaHRtbCIpCiAgICAKICAgICMgcGxvdCBmZWF0dXJlIGNvcnJlbGF0aW9uCiAgICBfZ2NmX2NsZWFyKHBsdCkKICAgIHRibGNvcnIgPSB0YWJsZS5jb3JyKCkKICAgIGF4ID0gcGx0LmF4ZXMoKQogICAgc25zLmhlYXRtYXAodGJsY29yciwgYXg9YXgsIGFubm90PUZhbHNlLCBjbWFwPXBsdC5jbS5SZWRzKQogICAgYXguc2V0X3RpdGxlKCJmZWF0dXJlcyBjb3JyZWxhdGlvbiIpCiAgICBwbHQuc2F2ZWZpZyhvcy5wYXRoLmpvaW4oYmFzZV9wYXRoLCAicGxvdHMvY29yci5wbmciKSkKICAgIGNvbnRleHQubG9nX2FydGlmYWN0KFBsb3RBcnRpZmFjdCgiY29ycmVsYXRpb24iLCAgYm9keT1wbHQuZ2NmKCkpLCBsb2NhbF9wYXRoPSJwbG90cy9jb3JyLmh0bWwiKQogICAgCiAgICAjIHBsb3QgaGlzdG9ncmFtCiAgICBfZ2NmX2NsZWFyKHBsdCkKICAgIGF4ID0gcGx0LmF4ZXMoKQogICAgYXguc2V0X3l0aWNrbGFiZWxzKFtdKQogICAgYXguc2V0X3h0aWNrbGFiZWxzKFtdKQogICAgZmlnYXJyYXkgPSB0YWJsZS5oaXN0KGF4PWF4LCB5bGFiZWxzaXplPTUsIHhsYWJlbHNpemU9NSkKICAgIGZvciByb3cgaW4gZmlnYXJyYXk6CiAgICAgICAgZm9yIGYgaW4gcm93OgogICAgICAgICAgICBmLnNldF90aXRsZSgiIikKICAgIGF4LnNldF90aXRsZSgiZmVhdHVyZXMgaGlzdG9ncmFtIikKICAgIHBsdC5zYXZlZmlnKG9zLnBhdGguam9pbihiYXNlX3BhdGgsICJwbG90cy9oaXN0LnBuZyIpKQogICAgY29udGV4dC5sb2dfYXJ0aWZhY3QoUGxvdEFydGlmYWN0KCJoaXN0b2dyYW1zIiwgIGJvZHk9cGx0LmdjZigpKSwgbG9jYWxfcGF0aD0icGxvdHMvaGlzdC5odG1sIikKICAgCiAgICBfZ2NmX2NsZWFyKHBsdCkK
    commands: []
    code_origin: https://github.com/yjb-ds/functions-refac#4b65b1b6066d78e2b2b0e4b5a56fc25dbb2bedb3:/User/functions-refac/describe/describe.py
