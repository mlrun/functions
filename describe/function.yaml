kind: job
metadata:
  name: describe
  tag: ''
  hash: 77588e382887ad69529f46ecdb696eaeb2534bbb
  project: ''
  labels:
    author: yjb
    stage: development
  categories:
  - models
  - graphics
spec:
  command: ''
  args: []
  image: mlrun/ml-models:0.4.5
  env: []
  default_handler: summarize
  description: ''
  image_pull_policy: Always
  build:
    functionSourceCode: aW1wb3J0IG9zCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgcGFuZGFzIGFzIHBkCmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHQKaW1wb3J0IHNlYWJvcm4gYXMgc25zCgpmcm9tIG1scnVuLmV4ZWN1dGlvbiBpbXBvcnQgTUxDbGllbnRDdHgKZnJvbSBtbHJ1bi5kYXRhc3RvcmUgaW1wb3J0IERhdGFJdGVtCmZyb20gbWxydW4uYXJ0aWZhY3RzIGltcG9ydCBQbG90QXJ0aWZhY3QsIFRhYmxlQXJ0aWZhY3QKCmZyb20gc2tsZWFybi5wcmVwcm9jZXNzaW5nIGltcG9ydCBTdGFuZGFyZFNjYWxlcgpmcm9tIHllbGxvd2JyaWNrIGltcG9ydCBDbGFzc0JhbGFuY2UKCmZyb20gdHlwaW5nIGltcG9ydCBJTywgQW55U3RyLCBVbmlvbiwgTGlzdCwgT3B0aW9uYWwKCnBkLnNldF9vcHRpb24oImRpc3BsYXkuZmxvYXRfZm9ybWF0IiwgbGFtYmRhIHg6ICIlLjJmIiAlIHgpCgpkZWYgX2djZl9jbGVhcihwbHQpOgogICAgcGx0LmNsYSgpCiAgICBwbHQuY2xmKCkKICAgIHBsdC5jbG9zZSgpIAoKZGVmIHN1bW1hcml6ZSgKICAgIGNvbnRleHQ6IE1MQ2xpZW50Q3R4LAogICAgdGFibGU6IFVuaW9uW0RhdGFJdGVtLCBzdHJdLAogICAgbGFiZWxfY29sdW1uOiBzdHIsCiAgICBjbGFzc19sYWJlbHM6IExpc3Rbc3RyXSA9IE5vbmUsCiAgICBrZXk6IHN0ciA9ICJ0YWJsZS1zdW1tYXJ5IiwKICAgIHBsb3RfaGlzdDogYm9vbCA9IFRydWUsCiAgICBwbG90c19kZXN0OiBzdHIgPSAncGxvdHMnCikgLT4gTm9uZToKICAgICIiIlN1bW1hcml6ZSBhIHRhYmxlCgogICAgVE9ETzogbWVyZ2Ugd2l0aCBkYXNrIHZlcnNpb24KCiAgICA6cGFyYW0gY29udGV4dDogICAgICAgICB0aGUgZnVuY3Rpb24gY29udGV4dAogICAgOnBhcmFtIHRhYmxlOiAgICAgICAgICAgcGFuZGFzIGRhdGFmcmFtZQogICAgOnBhcmFtIGxhYmVsX2NvbHVtbjogICAgZ3JvdW5kIHRydXRoIGNvbHVtbiBsYWJlbAogICAgOnBhcmFtIGNsYXNzX2xhYmVsczogICAgbGFiZWwgZm9yIGVhY2ggY2xhc3MgaW4gdGFibGVzIGFuZCBwbG90cwogICAgOnBhcmFtIGtleTogICAgICAgICAgICAga2V5IG9mIHRhYmxlIHN1bW1hcnkgaW4gYXJ0aWZhY3Qgc3RvcmUKICAgIDpwYXJhbSBwbG90X2hpc3Q6ICAgICAgIChUcnVlKSBzZXQgdGhpcyB0byBGYWxzZSBmb3IgbGFyZ2UgdGFibGVzCiAgICA6cGFyYW0gcGxvdHNfZGVzdDogICAgICBkZXN0aW5hdGlvbiBmb2xkZXIgb2Ygc3VtbWFyeSBwbG90cyAocmVsYXRpdmUgdG8gYXJ0aWZhY3RfcGF0aCkKICAgICIiIgogICAgYmFzZV9wYXRoID0gY29udGV4dC5hcnRpZmFjdF9wYXRoCiAgICBvcy5tYWtlZGlycyhiYXNlX3BhdGgsIGV4aXN0X29rPVRydWUpCiAgICBvcy5tYWtlZGlycyhvcy5wYXRoLmpvaW4oYmFzZV9wYXRoLCBwbG90c19kZXN0KSwgZXhpc3Rfb2s9VHJ1ZSkKICAgIAogICAgdGFibGUgPSBwZC5yZWFkX3BhcnF1ZXQoc3RyKHRhYmxlKSkKICAgIGhlYWRlciA9IHRhYmxlLmNvbHVtbnMudmFsdWVzCgogICAgX2djZl9jbGVhcihwbHQpCiAgICB0cnk6CiAgICAgICAgc25zcGx0ID0gc25zLnBhaXJwbG90KHRhYmxlLCBodWU9bGFiZWxfY29sdW1uKQogICAgICAgIHNuc3BsdC5zYXZlZmlnKG9zLnBhdGguam9pbihiYXNlX3BhdGgsIGYie3Bsb3RzX2Rlc3R9L2hpc3QucG5nIikpCiAgICAgICAgY29udGV4dC5sb2dfYXJ0aWZhY3QoUGxvdEFydGlmYWN0KCJoaXN0b2dyYW1zIiwgIGJvZHk9cGx0LmdjZigpKSwgbG9jYWxfcGF0aD1mIntwbG90c19kZXN0fS9oaXN0Lmh0bWwiKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGNvbnRleHQubG9nZ2VyLndhcm5pbmcoZidXaGlsZSB0cnlpbmcgdG8gcnVuIHNucy5wYWlycGxvdCBlbmNvdW50ZXJlZCB0aGUgZm9sbG93aW5nIGVycm9yOiB7ZX0nKQoKICAgIHN1bXRibCA9IHRhYmxlLmRlc2NyaWJlKCkKICAgIHN1bXRibCA9IHN1bXRibC5hcHBlbmQobGVuKHRhYmxlLmluZGV4KS10YWJsZS5jb3VudCgpLCBpZ25vcmVfaW5kZXg9VHJ1ZSkKICAgIHN1bXRibC5pbnNlcnQoMCwgIm1ldHJpYyIsIFsiY291bnQiLCAibWVhbiIsICJzdGQiLCAibWluIiwiMjUlIiwgIjUwJSIsICI3NSUiLCAibWF4IiwgIm5hbnMiXSkKICAgIAogICAgc3VtdGJsLnRvX2Nzdihvcy5wYXRoLmpvaW4oYmFzZV9wYXRoLCBrZXkrIi5jc3YiKSwgaW5kZXg9RmFsc2UpCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChrZXksIGxvY2FsX3BhdGg9a2V5KyIuY3N2IikKCiAgICBfZ2NmX2NsZWFyKHBsdCkKICAgIAogICAgbGFiZWxzID0gdGFibGUucG9wKGxhYmVsX2NvbHVtbikKICAgIGNsYXNzX2JhbGFuY2VfbW9kZWwgPSBDbGFzc0JhbGFuY2UobGFiZWxzPWNsYXNzX2xhYmVscykKICAgIGNsYXNzX2JhbGFuY2VfbW9kZWwuZml0KGxhYmVscykKICAgIAogICAgc2NhbGVfcG9zX3dlaWdodCA9IGNsYXNzX2JhbGFuY2VfbW9kZWwuc3VwcG9ydF9bMF0vY2xhc3NfYmFsYW5jZV9tb2RlbC5zdXBwb3J0X1sxXQogICAgY29udGV4dC5sb2dfYXJ0aWZhY3QoInNjYWxlX3Bvc193ZWlnaHQiLCBmIntzY2FsZV9wb3Nfd2VpZ2h0OjAuMmZ9IikKCiAgICBjbGFzc19iYWxhbmNlX21vZGVsLnNob3cob3V0cGF0aD1vcy5wYXRoLmpvaW4oYmFzZV9wYXRoLCBmIntwbG90c19kZXN0fS9pbWJhbGFuY2UucG5nIikpCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChQbG90QXJ0aWZhY3QoImltYmFsYW5jZSIsIGJvZHk9cGx0LmdjZigpKSwgbG9jYWxfcGF0aD1mIntwbG90c19kZXN0fS9pbWJhbGFuY2UuaHRtbCIpCiAgICAKICAgIF9nY2ZfY2xlYXIocGx0KQogICAgdGJsY29yciA9IHRhYmxlLmNvcnIoKQogICAgYXggPSBwbHQuYXhlcygpCiAgICBzbnMuaGVhdG1hcCh0Ymxjb3JyLCBheD1heCwgYW5ub3Q9RmFsc2UsIGNtYXA9cGx0LmNtLlJlZHMpCiAgICBheC5zZXRfdGl0bGUoImZlYXR1cmVzIGNvcnJlbGF0aW9uIikKICAgIHBsdC5zYXZlZmlnKG9zLnBhdGguam9pbihiYXNlX3BhdGgsIGYie3Bsb3RzX2Rlc3R9L2NvcnIucG5nIikpCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChQbG90QXJ0aWZhY3QoImNvcnJlbGF0aW9uIiwgIGJvZHk9cGx0LmdjZigpKSwgbG9jYWxfcGF0aD1mIntwbG90c19kZXN0fS9jb3JyLmh0bWwiKQogICAgCiAgIAogICAgX2djZl9jbGVhcihwbHQpCg==
    commands: []
    code_origin: https://github.com/mlrun/functions.git#5bf8bad9a1ac7eb5cd8ae4877a77c541c7c7f00c:describe/describe.py
