kind: job
metadata:
  name: describe
  tag: ''
  hash: 3fa3069bd8492c2cc2127c5e7790ca009e9a19f9
  project: ''
  labels:
    author: yjb
    stage: development
  categories:
  - models
  - visualization
spec:
  command: ''
  args: []
  image: mlrun/ml-models:0.4.6
  env: []
  default_handler: summarize
  description: ''
  image_pull_policy: Always
  build:
    functionSourceCode: IyBHZW5lcmF0ZWQgYnkgbnVjbGlvLmV4cG9ydC5OdWNsaW9FeHBvcnRlciBvbiAyMDIwLTAzLTI0IDIwOjE4CgppbXBvcnQgb3MKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBwYW5kYXMgYXMgcGQKaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdAppbXBvcnQgc2VhYm9ybiBhcyBzbnMKCmZyb20gbWxydW4uZXhlY3V0aW9uIGltcG9ydCBNTENsaWVudEN0eApmcm9tIG1scnVuLmRhdGFzdG9yZSBpbXBvcnQgRGF0YUl0ZW0KZnJvbSBtbHJ1bi5hcnRpZmFjdHMgaW1wb3J0IFBsb3RBcnRpZmFjdCwgVGFibGVBcnRpZmFjdAoKZnJvbSBza2xlYXJuLnByZXByb2Nlc3NpbmcgaW1wb3J0IFN0YW5kYXJkU2NhbGVyCmZyb20geWVsbG93YnJpY2sgaW1wb3J0IENsYXNzQmFsYW5jZQoKZnJvbSB0eXBpbmcgaW1wb3J0IElPLCBBbnlTdHIsIFVuaW9uLCBMaXN0LCBPcHRpb25hbAoKcGQuc2V0X29wdGlvbigiZGlzcGxheS5mbG9hdF9mb3JtYXQiLCBsYW1iZGEgeDogIiUuMmYiICUgeCkKCmRlZiBfZ2NmX2NsZWFyKHBsdCk6CiAgICBwbHQuY2xhKCkKICAgIHBsdC5jbGYoKQogICAgcGx0LmNsb3NlKCkgCgpkZWYgc3VtbWFyaXplKAogICAgY29udGV4dDogTUxDbGllbnRDdHgsCiAgICB0YWJsZTogc3RyLAogICAgbGFiZWxfY29sdW1uOiBzdHIgPSAnbGFiZWxzJywKICAgIGNsYXNzX2xhYmVsczogTGlzdFtzdHJdID0gTm9uZSwKICAgIHBsb3RfaGlzdDogYm9vbCA9IFRydWUsCiAgICBwbG90c19kZXN0OiBzdHIgPSAncGxvdHMnCikgLT4gTm9uZToKICAgICIiIlN1bW1hcml6ZSBhIHRhYmxlCgogICAgOnBhcmFtIGNvbnRleHQ6ICAgICAgICAgdGhlIGZ1bmN0aW9uIGNvbnRleHQKICAgIDpwYXJhbSB0YWJsZTogICAgICAgICAgIHBhbmRhcyBkYXRhZnJhbWUgKGNzdi9wYXJxdWV0IGZpbGUgcGF0aCkKICAgIDpwYXJhbSBsYWJlbF9jb2x1bW46ICAgIGdyb3VuZCB0cnV0aCBjb2x1bW4gbGFiZWwKICAgIDpwYXJhbSBjbGFzc19sYWJlbHM6ICAgIGxhYmVsIGZvciBlYWNoIGNsYXNzIGluIHRhYmxlcyBhbmQgcGxvdHMKICAgIDpwYXJhbSBwbG90X2hpc3Q6ICAgICAgIChUcnVlKSBzZXQgdGhpcyB0byBGYWxzZSBmb3IgbGFyZ2UgdGFibGVzCiAgICA6cGFyYW0gcGxvdHNfZGVzdDogICAgICBkZXN0aW5hdGlvbiBmb2xkZXIgb2Ygc3VtbWFyeSBwbG90cyAocmVsYXRpdmUgdG8gYXJ0aWZhY3RfcGF0aCkKICAgICIiIgogICAgdGFibGUgPSBzdHIodGFibGUpCiAgICBpZiB0YWJsZS5lbmRzd2l0aCgnLmNzdicpOgogICAgICAgIHRhYmxlID0gcGQucmVhZF9jc3YodGFibGUpCiAgICBlbHNlOiAKICAgICAgICB0YWJsZSA9IHBkLnJlYWRfcGFycXVldCh0YWJsZSkKICAgIGhlYWRlciA9IHRhYmxlLmNvbHVtbnMudmFsdWVzCgogICAgX2djZl9jbGVhcihwbHQpCiAgICB0cnk6CiAgICAgICAgc25zcGx0ID0gc25zLnBhaXJwbG90KHRhYmxlLCBodWU9bGFiZWxfY29sdW1uLCBheD1heCkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBzbnNwbHQgPSBzbnMucGFpcnBsb3QodGFibGUsIGh1ZT1sYWJlbF9jb2x1bW4sIGRpYWdfa3dzPXsnYncnOiAxLjV9KQogICAgY29udGV4dC5sb2dfYXJ0aWZhY3QoUGxvdEFydGlmYWN0KCdoaXN0b2dyYW1zJywgIGJvZHk9cGx0LmdjZigpKSwgbG9jYWxfcGF0aD1mIntwbG90c19kZXN0fS9oaXN0Lmh0bWwiKQoKICAgIF9nY2ZfY2xlYXIocGx0KSAgIAogICAgbGFiZWxzID0gdGFibGUucG9wKGxhYmVsX2NvbHVtbikKICAgIGNsYXNzX2JhbGFuY2VfbW9kZWwgPSBDbGFzc0JhbGFuY2UobGFiZWxzPWNsYXNzX2xhYmVscykKICAgIGNsYXNzX2JhbGFuY2VfbW9kZWwuZml0KGxhYmVscykgICAKICAgIHNjYWxlX3Bvc193ZWlnaHQgPSBjbGFzc19iYWxhbmNlX21vZGVsLnN1cHBvcnRfWzBdL2NsYXNzX2JhbGFuY2VfbW9kZWwuc3VwcG9ydF9bMV0KICAgIGNvbnRleHQubG9nX3Jlc3VsdCgic2NhbGVfcG9zX3dlaWdodCIsIGYie3NjYWxlX3Bvc193ZWlnaHQ6MC4yZn0iKQogICAgY29udGV4dC5sb2dfYXJ0aWZhY3QoUGxvdEFydGlmYWN0KCJpbWJhbGFuY2UiLCBib2R5PXBsdC5nY2YoKSksIGxvY2FsX3BhdGg9ZiJ7cGxvdHNfZGVzdH0vaW1iYWxhbmNlLmh0bWwiKQogICAgCiAgICBfZ2NmX2NsZWFyKHBsdCkKICAgIHRibGNvcnIgPSB0YWJsZS5jb3JyKCkKICAgIGF4ID0gcGx0LmF4ZXMoKQogICAgc25zLmhlYXRtYXAodGJsY29yciwgYXg9YXgsIGFubm90PUZhbHNlLCBjbWFwPXBsdC5jbS5SZWRzKQogICAgYXguc2V0X3RpdGxlKCJmZWF0dXJlcyBjb3JyZWxhdGlvbiIpCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChQbG90QXJ0aWZhY3QoImNvcnJlbGF0aW9uIiwgIGJvZHk9cGx0LmdjZigpKSwgbG9jYWxfcGF0aD1mIntwbG90c19kZXN0fS9jb3JyLmh0bWwiKQogICAgX2djZl9jbGVhcihwbHQpCgo=
    commands: []
    code_origin: /User/functions/describe/function.yaml
