kind: job
metadata:
  name: load-dataset
  tag: ''
  hash: 5082ea1143a781843851c47eb777e7476d8cb22d
  project: ''
  labels:
    author: yjb
    framework: sklearn
  categories:
  - data-source
  - ml
spec:
  command: ''
  args: []
  image: mlrun/ml-models
  env: []
  default_handler: load_dataset
  entry_points:
    load_dataset:
      name: load_dataset
      doc: "Loads a scikit-learn toy dataset for classification or regression\n\n\
        The following datasets are available ('name' : desription):\n\n    'boston'\
        \          : boston house-prices dataset (regression)\n    'iris'        \
        \    : iris dataset (classification)\n    'diabetes'        : diabetes dataset\
        \ (regression)\n    'digits'          : digits dataset (classification)\n\
        \    'linnerud'        : linnerud dataset (multivariate regression)\n    'wine'\
        \            : wine dataset (classification)\n    'breast_cancer'   : breast\
        \ cancer wisconsin dataset (classification)\n\nThe scikit-learn functions\
        \ return a data bunch including the following items:\n- data             \
        \ the features matrix\n- target            the ground truth labels\n- DESCR\
        \             a description of the dataset\n- feature_names     header for\
        \ data\n\nThe features (and their names) are stored with the target labels\
        \ in a DataFrame.\n\nFor further details see https://scikit-learn.org/stable/datasets/index.html#toy-datasets"
      parameters:
      - name: context
        type: MLClientCtx
        doc: function execution context
      - name: dataset
        type: str
        doc: name of the dataset to load
      - name: name
        type: str
        doc: artifact name (defaults to dataset)
      - name: file_ext
        type: str
        doc: 'output file_ext: parquet or csv'
        default: parquet
      - name: params
        type: dict
        doc: params of the sklearn load_data method
      outputs: []
      lineno: 7
  description: load a toy dataset from scikit-learn
  build:
    functionSourceCode: IyBHZW5lcmF0ZWQgYnkgbnVjbGlvLmV4cG9ydC5OdWNsaW9FeHBvcnRlciBvbiAyMDIwLTA1LTAzIDE1OjE2CgppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IHBhbmRhcyBhcyBwZApmcm9tIG1scnVuLmV4ZWN1dGlvbiBpbXBvcnQgTUxDbGllbnRDdHgKCmRlZiBsb2FkX2RhdGFzZXQoCiAgICAgICAgY29udGV4dDogTUxDbGllbnRDdHgsCiAgICAgICAgZGF0YXNldDogc3RyLAogICAgICAgIG5hbWU6IHN0ciA9ICcnLAogICAgICAgIGZpbGVfZXh0OiBzdHIgPSAncGFycXVldCcsCiAgICAgICAgcGFyYW1zOiBkaWN0ID0ge30KKSAtPiBOb25lOgogICAgIiIiTG9hZHMgYSBzY2lraXQtbGVhcm4gdG95IGRhdGFzZXQgZm9yIGNsYXNzaWZpY2F0aW9uIG9yIHJlZ3Jlc3Npb24KCiAgICBUaGUgZm9sbG93aW5nIGRhdGFzZXRzIGFyZSBhdmFpbGFibGUgKCduYW1lJyA6IGRlc3JpcHRpb24pOgoKICAgICAgICAnYm9zdG9uJyAgICAgICAgICA6IGJvc3RvbiBob3VzZS1wcmljZXMgZGF0YXNldCAocmVncmVzc2lvbikKICAgICAgICAnaXJpcycgICAgICAgICAgICA6IGlyaXMgZGF0YXNldCAoY2xhc3NpZmljYXRpb24pCiAgICAgICAgJ2RpYWJldGVzJyAgICAgICAgOiBkaWFiZXRlcyBkYXRhc2V0IChyZWdyZXNzaW9uKQogICAgICAgICdkaWdpdHMnICAgICAgICAgIDogZGlnaXRzIGRhdGFzZXQgKGNsYXNzaWZpY2F0aW9uKQogICAgICAgICdsaW5uZXJ1ZCcgICAgICAgIDogbGlubmVydWQgZGF0YXNldCAobXVsdGl2YXJpYXRlIHJlZ3Jlc3Npb24pCiAgICAgICAgJ3dpbmUnICAgICAgICAgICAgOiB3aW5lIGRhdGFzZXQgKGNsYXNzaWZpY2F0aW9uKQogICAgICAgICdicmVhc3RfY2FuY2VyJyAgIDogYnJlYXN0IGNhbmNlciB3aXNjb25zaW4gZGF0YXNldCAoY2xhc3NpZmljYXRpb24pCgogICAgVGhlIHNjaWtpdC1sZWFybiBmdW5jdGlvbnMgcmV0dXJuIGEgZGF0YSBidW5jaCBpbmNsdWRpbmcgdGhlIGZvbGxvd2luZyBpdGVtczoKICAgIC0gZGF0YSAgICAgICAgICAgICAgdGhlIGZlYXR1cmVzIG1hdHJpeAogICAgLSB0YXJnZXQgICAgICAgICAgICB0aGUgZ3JvdW5kIHRydXRoIGxhYmVscwogICAgLSBERVNDUiAgICAgICAgICAgICBhIGRlc2NyaXB0aW9uIG9mIHRoZSBkYXRhc2V0CiAgICAtIGZlYXR1cmVfbmFtZXMgICAgIGhlYWRlciBmb3IgZGF0YQoKICAgIFRoZSBmZWF0dXJlcyAoYW5kIHRoZWlyIG5hbWVzKSBhcmUgc3RvcmVkIHdpdGggdGhlIHRhcmdldCBsYWJlbHMgaW4gYSBEYXRhRnJhbWUuCgogICAgRm9yIGZ1cnRoZXIgZGV0YWlscyBzZWUgaHR0cHM6Ly9zY2lraXQtbGVhcm4ub3JnL3N0YWJsZS9kYXRhc2V0cy9pbmRleC5odG1sI3RveS1kYXRhc2V0cwoKICAgIDpwYXJhbSBjb250ZXh0OiAgICBmdW5jdGlvbiBleGVjdXRpb24gY29udGV4dAogICAgOnBhcmFtIGRhdGFzZXQ6ICAgIG5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gbG9hZAogICAgOnBhcmFtIG5hbWU6ICAgICAgIGFydGlmYWN0IG5hbWUgKGRlZmF1bHRzIHRvIGRhdGFzZXQpCiAgICA6cGFyYW0gZmlsZV9leHQ6ICAgb3V0cHV0IGZpbGVfZXh0OiBwYXJxdWV0IG9yIGNzdgogICAgOnBhcmFtIHBhcmFtczogICAgIHBhcmFtcyBvZiB0aGUgc2tsZWFybiBsb2FkX2RhdGEgbWV0aG9kCiAgICAiIiIKICAgIGRhdGFzZXQgPSBzdHIoZGF0YXNldCkKICAgIHBrZ19tb2R1bGUgPSAnc2tsZWFybi5kYXRhc2V0cycKICAgIGZuYW1lID0gZidsb2FkX3tkYXRhc2V0fScKCiAgICBwa2dfbW9kdWxlID0gX19pbXBvcnRfXyhwa2dfbW9kdWxlLCBmcm9tbGlzdD1bZm5hbWVdKQogICAgbG9hZF9kYXRhX2ZuID0gZ2V0YXR0cihwa2dfbW9kdWxlLCBmbmFtZSkKCiAgICBkYXRhID0gbG9hZF9kYXRhX2ZuKCoqcGFyYW1zKQogICAgZmVhdHVyZV9uYW1lcyA9IGRhdGFbJ2ZlYXR1cmVfbmFtZXMnXQoKICAgIHh5ID0gbnAuY29uY2F0ZW5hdGUoW2RhdGFbJ2RhdGEnXSwgZGF0YVsndGFyZ2V0J10ucmVzaGFwZSgtMSwgMSldLCBheGlzPTEpCiAgICBpZiBoYXNhdHRyKGZlYXR1cmVfbmFtZXMsICdhcHBlbmQnKToKICAgICAgICBmZWF0dXJlX25hbWVzLmFwcGVuZCgnbGFiZWxzJykKICAgIGVsc2U6CiAgICAgICAgZmVhdHVyZV9uYW1lcyA9IG5wLmFwcGVuZChmZWF0dXJlX25hbWVzLCAnbGFiZWxzJykKICAgIGRmID0gcGQuRGF0YUZyYW1lKGRhdGE9eHksIGNvbHVtbnM9ZmVhdHVyZV9uYW1lcykKCiAgICBjb250ZXh0LmxvZ19kYXRhc2V0KG5hbWUgb3IgZGF0YXNldCwgZGY9ZGYsIGZvcm1hdD1maWxlX2V4dCwgaW5kZXg9RmFsc2UpCgo=
    commands: []
    code_origin: https://github.com/yjb-ds/functions.git#55200cb08b703b328ae8dbaede402e3555df7cbc:load_dataset.ipynb
