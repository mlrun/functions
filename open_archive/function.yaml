kind: job
metadata:
  name: open-archive
  tag: ''
  hash: 003ff9b81edb3b73a3f9eb2de2a84458c759606d
  project: ''
  categories: []
spec:
  command: ''
  args: []
  image: mlrun/ml-models:0.4.5
  env: []
  default_handler: open_archive
  description: ''
  build:
    functionSourceCode: IyBHZW5lcmF0ZWQgYnkgbnVjbGlvLmV4cG9ydC5OdWNsaW9FeHBvcnRlciBvbiAyMDIwLTAzLTE1IDE3OjAxCgppbXBvcnQgbWxydW4sIG9zCm1scnVuLm1sY29uZi5kYnBhdGggPSAnaHR0cDovL21scnVuLWFwaTo4MDgwJwoKaW1wb3J0IG9zCmltcG9ydCB6aXBmaWxlCmltcG9ydCB1cmxsaWIucmVxdWVzdAppbXBvcnQgdGFyZmlsZQppbXBvcnQganNvbgoKZnJvbSBtbHJ1bi5leGVjdXRpb24gaW1wb3J0IE1MQ2xpZW50Q3R4CmZyb20gbWxydW4uZGF0YXN0b3JlIGltcG9ydCBEYXRhSXRlbQoKZnJvbSB0eXBpbmcgaW1wb3J0IFVuaW9uCgpkZWYgb3Blbl9hcmNoaXZlKAogICAgY29udGV4dDogTUxDbGllbnRDdHgsIAogICAgYXJjaGl2ZV91cmw6IFVuaW9uW0RhdGFJdGVtLCBzdHJdID0gJycsCiAgICBrZXk6IHN0ciA9ICdpbWFnZXMnCik6CiAgICAiIiJPcGVuIGEgZmlsZS9vYmplY3QgYXJjaGl2ZSBpbnRvIGEgdGFyZ2V0IGRpcmVjdG9yeQogICAgCiAgICBDdXJyZW50bHkgc3VwcG9ydHMgemlwIGFuZCB0YXIuZ3oKICAgIAogICAgOnBhcmFtIGNvbnRleHQ6ICAgICAgZnVuY3Rpb24gZXhlY3V0aW9uIGNvbnRleHQKICAgIDpwYXJhbSBhcmNoaXZlX3VybDogIHVybCBvZiBhcmNoaXZlIGZpbGUKICAgIDpwYXJhbSBrZXk6ICAgICAgICAgIGtleSBvZiBhcmNoaXZlIGNvbnRlbnRzIGluIGFydGlmYWN0IHN0b3JlCiAgICAiIiIKICAgIHRhcmdldF9kaXIgPSBjb250ZXh0LmFydGlmYWN0X3BhdGgKICAgIAogICAgb3MubWFrZWRpcnModGFyZ2V0X2RpciwgZXhpc3Rfb2s9VHJ1ZSkKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ1ZlcmlmaWVkIGRpcmVjdG9yaWVzJykKICAgIAogICAgc3BsaXRzID0gc3RyKGFyY2hpdmVfdXJsKS5zcGxpdCgnLicpCiAgICBpZiAoJy4nLmpvaW4oc3BsaXRzWy0yOl0pID09ICd0YXIuZ3onKToKICAgICAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdvcGVuaW5nIHRhcl9neicpCiAgICAgICAgZnRwc3RyZWFtID0gdXJsbGliLnJlcXVlc3QudXJsb3BlbihhcmNoaXZlX3VybCkKICAgICAgICB3aXRoIHRhcmZpbGUub3BlbihmaWxlb2JqPWZ0cHN0cmVhbSwgbW9kZT0icnxneiIpIGFzIHJlZjoKICAgICAgICAgICAgcmVmLmV4dHJhY3RhbGwodGFyZ2V0X2RpcikKICAgIGVsaWYgc3BsaXRzWy0xXSA9PSAnemlwJzoKICAgICAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdvcGVuaW5nIHppcCcpCiAgICAgICAgd2l0aCB6aXBmaWxlLlppcEZpbGUoYXJjaGl2ZV91cmwsICdyJykgYXMgcmVmOgogICAgICAgICAgICByZWYuZXh0cmFjdGFsbCh0YXJnZXRfZGlyKQogICAgCiAgICBjb250ZXh0LmxvZ19hcnRpZmFjdChrZXksIGxvY2FsX3BhdGg9dGFyZ2V0X2RpcikKCg==
    commands: []
    code_origin: https://raw.githubusercontent.com/yjb-ds/functions/refac/open_archive/open_archive.ipynb
