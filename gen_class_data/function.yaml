kind: job
metadata:
  name: gen-class-data
  tag: ''
  hash: 223e774a65051f9f6b7d2280be76906c5fc47491
  project: ''
  labels:
    author: yjb
    stage: development
  categories:
  - datagen
  - fileutils
spec:
  command: ''
  args: []
  image: mlrun/ml-models:0.4.6
  env: []
  default_handler: gen_class_data
  description: ''
  image_pull_policy: Always
  build:
    functionSourceCode: IyBDb3B5cmlnaHQgMjAxOSBJZ3VhemlvCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAojCiMgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQojIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiMgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiMgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAojIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgppbXBvcnQgb3MKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgcHlhcnJvdyBhcyBwYQppbXBvcnQgcHlhcnJvdy5wYXJxdWV0IGFzIHBxCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbCwgTGlzdCwgQW55CmZyb20gc2tsZWFybi5kYXRhc2V0cyBpbXBvcnQgbWFrZV9jbGFzc2lmaWNhdGlvbgoKZnJvbSBtbHJ1bi5leGVjdXRpb24gaW1wb3J0IE1MQ2xpZW50Q3R4CgoKZGVmIGdlbl9jbGFzc19kYXRhKAogICAgY29udGV4dDogTUxDbGllbnRDdHgsCiAgICBuX3NhbXBsZXM6IGludCwKICAgIG1fZmVhdHVyZXM6IGludCwKICAgIGtfY2xhc3NlczogaW50LAogICAgaGVhZGVyOiBPcHRpb25hbFtMaXN0W3N0cl1dLAogICAgbGFiZWxfY29sdW1uOiBPcHRpb25hbFtzdHJdID0gJ2xhYmVscycsCiAgICB3ZWlnaHQ6IGZsb2F0ID0gMC41LAogICAgcmFuZG9tX3N0YXRlOiBpbnQgPSAxLAogICAgZmlsZW5hbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAga2V5OiBzdHIgPSAnY2xhc3NpZmllci1kYXRhJywgCiAgICBmaWxlX2V4dDogc3RyID0gJ3BhcnF1ZXQnLAogICAgc2tfcGFyYW1zID0ge30KKToKICAgICIiIkNyZWF0ZSBhIGJpbmFyeSBjbGFzc2lmaWNhdGlvbiBzYW1wbGUgZGF0YXNldCBhbmQgc2F2ZS4KICAgIElmIG5vIGZpbGVuYW1lIGlzIGdpdmVuIGl0IHdpbGwgZGVmYXVsdCB0bzoKICAgICdzaW1kYXRhLXtuX3NhbXBsZXN9WHttX2ZlYXR1cmVzfS5wYXJxdWV0Jy4KICAgIAogICAgQWRkaXRpb25hbCBzY2lraXQtbGVhcm4gcGFyYW1ldGVycyBjYW4gYmUgc2V0IHVzaW5nICoqc2tfcGFyYW1zLCBwbGVhc2Ugc2VlIGh0dHBzOi8vc2Npa2l0LWxlYXJuLm9yZy9zdGFibGUvbW9kdWxlcy9nZW5lcmF0ZWQvc2tsZWFybi5kYXRhc2V0cy5tYWtlX2NsYXNzaWZpY2F0aW9uLmh0bWwgZm9yIG1vcmUgZGV0YWlscy4KICAgIAogICAgOnBhcmFtIGNvbnRleHQ6ICAgICAgIGZ1bmN0aW9uIGNvbnRleHQKICAgIDpwYXJhbSBuX3NhbXBsZXM6ICAgICBudW1iZXIgb2Ygcm93cy9zYW1wbGVzCiAgICA6cGFyYW0gbV9mZWF0dXJlczogICAgbnVtYmVyIG9mIGNvbHMvZmVhdHVyZXMKICAgIDpwYXJhbSBrX2NsYXNzZXM6ICAgICBudW1iZXIgb2YgY2xhc3NlcwogICAgOnBhcmFtIGhlYWRlcjogICAgICAgIGhlYWRlciBmb3IgZmVhdHVyZXMgYXJyYXkKICAgIDpwYXJhbSBsYWJlbF9jb2x1bW46ICBjb2x1bW4gbmFtZSBvZiBncm91bmQtdHJ1dGggc2VyaWVzCiAgICA6cGFyYW0gd2VpZ2h0OiAgICAgICAgZnJhY3Rpb24gb2Ygc2FtcGxlIG5lZ2F0aXZlIHZhbHVlIChncm91bmQtdHJ1dGg9MCkKICAgIDpwYXJhbSByYW5kb21fc3RhdGU6ICBybmcgc2VlZCAoc2VlIGh0dHBzOi8vc2Npa2l0LWxlYXJuLm9yZy9zdGFibGUvZ2xvc3NhcnkuaHRtbCN0ZXJtLXJhbmRvbS1zdGF0ZSkKICAgIDpwYXJhbSBmaWxlbmFtZTogICAgICBvcHRpb25hbCBuYW1lIGZvciBzYXZpbmcgc2ltdWxhdGVkIGRhdGEgZmlsZQogICAgOnBhcmFtIGtleTogICAgICAgICAgIGtleSBvZiBkYXRhIGluIGFydGlmYWN0IHN0b3JlCiAgICA6cGFyYW0gZmlsZV9leHQ6ICAgICAgKHBxdCkgZXh0ZW5zaW9uIGZvciBwYXJxdWV0IGZpbGUKICAgIDpwYXJhbSBza19wYXJhbXM6ICAgICBhZGRpdGlvbmFsIGBza2xlYXJuLmRhdGFzZXRzLm1ha2VfY2xhc3NpZmljYXRpb25gCiAgICAKICAgIG91dHB1dHMgZmlsZW5hbWUgb2YgY3JlYXRlZCBkYXRhIChpbmNsdWRlcyBwYXRoKSBpbiB0aGUgYXJ0aWZhY3Qgc3RvcmUuCiAgICAiIiIKICAgIGlmIG5vdCBmaWxlbmFtZToKICAgICAgICBuYW1lID0gZiJzaW1kYXRhLXtuX3NhbXBsZXM6MC4wZX1Ye21fZmVhdHVyZXN9LntmaWxlX2V4dH0iLnJlcGxhY2UoIisiLCAiIikKICAgIAogICAgZmVhdHVyZXMsIGxhYmVscyA9IG1ha2VfY2xhc3NpZmljYXRpb24oCiAgICAgICAgbl9zYW1wbGVzPW5fc2FtcGxlcywKICAgICAgICBuX2ZlYXR1cmVzPW1fZmVhdHVyZXMsCiAgICAgICAgd2VpZ2h0cz13ZWlnaHQsCiAgICAgICAgbl9jbGFzc2VzPWtfY2xhc3NlcywKICAgICAgICByYW5kb21fc3RhdGU9cmFuZG9tX3N0YXRlLCAKICAgICAgICAqKnNrX3BhcmFtcykKCiAgICAjIG1ha2UgZGF0YWZyYW1lcywgYWRkIGNvbHVtbiBuYW1lcywgY29uY2F0ZW5hdGUgKFgsIHkpCiAgICBYID0gcGQuRGF0YUZyYW1lKGZlYXR1cmVzKQogICAgaWYgbm90IGhlYWRlcjoKICAgICAgICBYLmNvbHVtbnMgPSBbImZlYXRfIiArIHN0cih4KSBmb3IgeCBpbiByYW5nZShtX2ZlYXR1cmVzKV0KICAgIGVsc2U6CiAgICAgICAgWC5jb2x1bW5zID0gaGVhZGVyCgogICAgeSA9IHBkLkRhdGFGcmFtZShsYWJlbHMsIGNvbHVtbnM9W2xhYmVsX2NvbHVtbl0pCiAgICBkYXRhID0gcGQuY29uY2F0KFtYLCB5XSwgYXhpcz0xKQogICAgCiAgICBjb250ZXh0LmxvZ19kYXRhc2V0KGtleSwgZGY9ZGF0YSwgZm9ybWF0PWZpbGVfZXh0LCBpbmRleD1GYWxzZSkK
    commands: []
    code_origin: /User/functions/gen_class_data/function.yaml
